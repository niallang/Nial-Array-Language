<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Nial Lecture</title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1404.47">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #000000; -webkit-text-stroke: #000000; min-height: 14.0px}
    p.p2 {margin: 0.0px 0.0px 6.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #000000; -webkit-text-stroke: #000000; min-height: 14.0px}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #000000; -webkit-text-stroke: #000000}
    p.p7 {margin: 0.0px 0.0px 12.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #000000; -webkit-text-stroke: #000000}
    li.li4 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Times; color: #000000; -webkit-text-stroke: #000000}
    li.li5 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Courier; color: #000000}
    li.li6 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 14.0px; font: 12.0px Courier; color: #000000; -webkit-text-stroke: #000000}
    span.s1 {font-kerning: none}
    span.s2 {-webkit-text-stroke: 0px #000000}
    span.s3 {font: 12.0px Courier; font-kerning: none}
    span.s4 {font-kerning: none; -webkit-text-stroke: 0px #000000}
    span.s5 {font: 12.0px Times; -webkit-text-stroke: 0px #000000}
    span.s6 {font: 12.0px Times; font-kerning: none}
    span.Apple-tab-span {white-space:pre}
    ul.ul1 {list-style-type: disc}
  </style>
</head>
<body>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Nial as a Prototyping Language</b></span></h1>
<p class="p1"><span class="s1"></span><br></p>
<p class="p4"><span class="s1">Mike Jenkins</span></p>
<p class="p4"><span class="s1">Emeritus Professor, School of Computing<span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1">Queen's University at Kingston</span></p>
<p class="p4"><span class="s1">President, Nial Systems Limited</span></p>
<p class="p4"><span class="s1">nialsys@kingston.net</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p4"><span class="s1">based on a framework for a lecture on K by</span></p>
<p class="p4"><span class="s1">Dennis Shasha</span></p>
<p class="p4"><span class="s1">Courant Institute of Mathematical Sciences, NYU<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Quick Tour of Nial<span class="Apple-converted-space"> </span></b></span></h1>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1"># Basic arithmetic in Nial<span class="Apple-converted-space"> </span></span><span class="s3"> <span class="Apple-converted-space">    </span>3 * 2</span></li>
  <li class="li5"><span class="s4">6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>2+3</span></li>
  <li class="li5"><span class="s4">5</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Left to right precedence</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3+5*4</span></li>
  <li class="li5"><span class="s4">32</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Assignment (:= or "gets")</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A := 15*3</span></li>
  <li class="li5"><span class="s4">45</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>B gets A / 5</span></li>
  <li class="li5"><span class="s4">9.</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Operations on simple lists</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># list assignment</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X := 5 3 4 -2</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">5 3 4 -2</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># element by element operations</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X + X</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">10 6 8 -4</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X * X</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">25 9 16 4</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># scalar - list operations</span></li>
  <li class="li5"><span class="s4"><span class="Apple-tab-span">	</span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3*X</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">15 9 12 -6</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>x / 3</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1.66667 1. 1.33333 -0.666667</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># reducing operations</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>sum X</span></li>
  <li class="li5"><span class="s4">10</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>prod X</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">-120</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>max X</span></li>
  <li class="li5"><span class="s4">5</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">   </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># cross product</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X OUTER* X</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 25 15 20 -10</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 15<span class="Apple-converted-space">  </span>9 12<span class="Apple-converted-space">  </span>-6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 20 12 16<span class="Apple-converted-space">  </span>-8</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">-10 -6 -8 <span class="Apple-converted-space">  </span>4</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># generating data</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Y := count 10</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1 2 3 4 5 6 7 8 9 10</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Z := random 3 5</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.487339<span class="Apple-converted-space">  </span>0.710791 0.265316 0.162762 0.537691</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.974659 0.0942834 0.620331 0.910949 0.326865</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.623449<span class="Apple-converted-space">  </span>0.315394 0.834813 0.699439 0.478038</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># multiplication table</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Y OUTER * Y</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1<span class="Apple-converted-space">  </span>2<span class="Apple-converted-space">  </span>3<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>5<span class="Apple-converted-space">  </span>6<span class="Apple-converted-space">  </span>7<span class="Apple-converted-space">  </span>8<span class="Apple-converted-space">  </span>9<span class="Apple-converted-space">  </span>10</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 2<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>6<span class="Apple-converted-space">  </span>8 10 12 14 16 18<span class="Apple-converted-space">  </span>20</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 3<span class="Apple-converted-space">  </span>6<span class="Apple-converted-space">  </span>9 12 15 18 21 24 27<span class="Apple-converted-space">  </span>30</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 4<span class="Apple-converted-space">  </span>8 12 16 20 24 28 32 36<span class="Apple-converted-space">  </span>40</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 5 10 15 20 25 30 35 40 45<span class="Apple-converted-space">  </span>50</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 6 12 18 24 30 36 42 48 54<span class="Apple-converted-space">  </span>60</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 7 14 21 28 35 42 49 56 63<span class="Apple-converted-space">  </span>70</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 8 16 24 32 40 48 56 64 72<span class="Apple-converted-space">  </span>80</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 9 18 27 36 45 54 63 72 81<span class="Apple-converted-space">  </span>90</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">10 20 30 40 50 60 70 80 90 100</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Tables</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">      </span>A := 4 6 reshape count 24</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1<span class="Apple-converted-space">  </span>2<span class="Apple-converted-space">  </span>3<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>5<span class="Apple-converted-space">  </span>6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 7<span class="Apple-converted-space">  </span>8<span class="Apple-converted-space">  </span>9 10 11 12</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">13 14 15 16 17 18</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">19 20 21 22 23 24</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">        </span>B := tell 4 6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|0 0|0 1|0 2|0 3|0 4|0 5|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|1 0|1 1|1 2|1 3|1 4|1 5|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|2 0|2 1|2 2|2 3|2 4|2 5|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|3 0|3 1|3 2|3 3|3 4|3 5|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+---+</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Operation definition</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># average of a list of numbers</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">average IS OPERATION A {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>sum A / tally A }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">        </span>average 30 40 60 80</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">52.5</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Unit 1: Basic language features</b></span></h1>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1">Atomic data types<span class="Apple-converted-space"> </span></span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Lists<span class="Apple-converted-space"> </span></span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Arrays of higher dimension<span class="Apple-converted-space"> </span></span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Operations - monadic with infix use.<span class="Apple-converted-space"> </span></span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Reading and writing files<span class="Apple-converted-space"> </span></span></li>
  <li class="li4"><span class="s2"></span><span class="s1">More on operations<span class="Apple-converted-space"> </span></span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Atomic data types<span class="Apple-converted-space"> </span></b></span></h1>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1">Numeric atoms (called scalars in mathematics) </span><span class="s3"># integers (32 bit integers)</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>357</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">357</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>-4</span></li>
  <li class="li5"><span class="s4">-4</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># real numbers (double floating point numbers)</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>2.5</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">2.5</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3e5</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">300000.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>2.5e-3</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.0025</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Logical values (booleans) displayed as l and o</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>True</span></li>
  <li class="li5"><span class="s4">l</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>False</span></li>
  <li class="li5"><span class="s4">o</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Bit strings (boolean lists)</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>lollo</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">lollo</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Symbolic atoms</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Character, preceded by the left quote symbol:</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>`x</span></li>
  <li class="li5"><span class="s4">x</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># String (character list) characters enclosed in single quotes:</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>'Hello, world!'</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">Hello, world!</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Phrase (or symbol) characters preceded by a double quote</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>"Hello</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">Hello</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># or constructed from a string using operation phrase</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>phrase 'Hello, world!'</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">Hello, world!</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Faults (errors or special values) symbol preceded by question mark</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>??error</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">?error</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># or constructed from a string using operation fault</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>fault '?bad syntax'</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">?bad syntax</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># or result of invalid computation</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>27/0</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">?div <span class="Apple-converted-space">   </span></span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Lists<span class="Apple-converted-space"> </span></b></span></h1>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1">Strand notation - sequence of expressions forms a list</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># list of integers</span></li>
  <li class="li5"><span class="s4"><span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>23 14 36</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">23 14 36</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># round parentheses used for grouping</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>18 -2 (25 * 4) (27 - 13)</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">18 -2 100 14</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># strand of characters is a string</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>`a `b `c</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">abc</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>`a `b `c = 'abc'</span></li>
  <li class="li5"><span class="s4">l</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># strand of Booleans is a bitstring</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>True False True</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">lol</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>True False True = lol</span></li>
  <li class="li5"><span class="s4">l</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># atomic types can be mixed</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>13 (25/4) "word</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">13 6.25 word</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Bracket-comma list notation [3, 42, 27] 3 42 27 [18, -3.5, `x] 18 -3.5 x # a list of atoms is called a simple list # in mathematics a simple list of numbers is called a vector<span class="Apple-converted-space"> </span></span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Nested lists</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># items of lists can be lists - displayed with box diagrams</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>(3 4 5) (8 9 10) (11 12 13)</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+------+--------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|3 4 5|8 9 10|11 12 13|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+------+--------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># can combine list notations</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>[3 4 5, 8 9 10, 11 12 13]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+------+--------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|3 4 5|8 9 10|11 12 13|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+------+--------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>["apple, "pie] ["tastes, "great]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---------+------------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|apple pie|tastes great|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---------+------------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># can combine lists and atoms as items</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>[32,[87,"abc],True]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+--+------+-+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|32|87 abc|l|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+--+------+-+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># list items can have different lengths</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>[3 4, 8 9 10, 11 12 13 14]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+------+-----------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|3 4|8 9 10|11 12 13 14|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+------+-----------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># can have as many levels as needed</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>[3 4, 8 9 10, 11 12 13 14] 'abc'</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+------------------------+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|+---+------+-----------+|abc|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">||3 4|8 9 10|11 12 13 14|| <span class="Apple-converted-space">  </span>|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|+---+------+-----------+| <span class="Apple-converted-space">  </span>|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+------------------------+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">   </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># binary tree of integers stored as a nested list</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>[ [1, 2], [ [3, 4], 5] ]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+-------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|1 2|+---+-+|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">| <span class="Apple-converted-space">  </span>||3 4|5||</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">| <span class="Apple-converted-space">  </span>|+---+-+|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+-------+</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Generated lists</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># generate integers using <i>count</i> and <i>tell</i></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>tell 5 <span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0 1 2 3 4</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>count 20</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># replicate an atom using <i>reshape</i></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>5 reshape "word</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">word word word word word</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># generate random real numbers between 0. and 1. using <i>random</i></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>random 5</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.726391 0.448169 0.384064 0.961273 0.123186</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># generate random permutation of 10 integers using <i>random</i> and <i>gradeup</i></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>gradeup random 10</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">5 6 4 0 3 1 2 9 7 8</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>gradeup random 10</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">9 6 5 0 8 3 4 7 1 2</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># operation list converts an atom to a 1-list</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>list 3</span></li>
  <li class="li5"><span class="s4">3</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>list 3 = 3</span></li>
  <li class="li5"><span class="s4">o</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>list 3 = [3]</span></li>
  <li class="li5"><span class="s4">l</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># there is only one empty list - Null</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Null = count 0</span></li>
  <li class="li5"><span class="s4">l</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Null = tell 0</span></li>
  <li class="li5"><span class="s4">l</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Null = ''</span></li>
  <li class="li5"><span class="s4">l</span></li>
  <li class="li5"></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># a list is a 1-dimensional array</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># a numeric list is called a vector in mathematics</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Arrays of higher dimension</b></span></h1>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1">Tables - 2-dimensional arrays</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># formed using <i>reshape</i> with a pair as the left argument</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>2 3 reshape 8 3 14 6 2 1</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">8 3 14</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">6 2<span class="Apple-converted-space">  </span>1</span></li>
  <li class="li5"><span class="s4"> <span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>4 6 reshape count 24</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1<span class="Apple-converted-space">  </span>2<span class="Apple-converted-space">  </span>3<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>5<span class="Apple-converted-space">  </span>6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 7<span class="Apple-converted-space">  </span>8<span class="Apple-converted-space">  </span>9 10 11 12</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">13 14 15 16 17 18</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">19 20 21 22 23 24</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># nested tables generated using <i>count</i> or <i>tell</i></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>count 3 4</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|1 1|1 2|1 3|1 4|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|2 1|2 2|2 3|2 4|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|3 1|3 2|3 3|3 4|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>tell 2 3</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|0 0|0 1|0 2|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|1 0|1 1|1 2|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># construct a table by using <i>mix</i> on a list of lists of same length</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>mix ['abcd','efgh']</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">abcd</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">efgh</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>mix [count 5,random 5]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">      </span>1<span class="Apple-converted-space">        </span>2<span class="Apple-converted-space">        </span>3<span class="Apple-converted-space">        </span>4<span class="Apple-converted-space">          </span>5</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.819432 0.193461 0.498833 0.880408 0.00925989</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># a numeric table is called a matrix in mathematics</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Higher dimensional arrays (displayed as tables)</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># formed using <i>reshape</i> with a longer shape vector as left argument</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3 4 5 reshape count 60</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1<span class="Apple-converted-space">  </span>2<span class="Apple-converted-space">  </span>3<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>5 <span class="Apple-converted-space">  </span>21 22 23 24 25 <span class="Apple-converted-space">  </span>41 42 43 44 45</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 6<span class="Apple-converted-space">  </span>7<span class="Apple-converted-space">  </span>8<span class="Apple-converted-space">  </span>9 10 <span class="Apple-converted-space">  </span>26 27 28 29 30 <span class="Apple-converted-space">  </span>46 47 48 49 50</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">11 12 13 14 15 <span class="Apple-converted-space">  </span>31 32 33 34 35 <span class="Apple-converted-space">  </span>51 52 53 54 55</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">16 17 18 19 20 <span class="Apple-converted-space">  </span>36 37 38 39 40 <span class="Apple-converted-space">  </span>56 57 58 59 60</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>2 3 4 5 reshape count 120</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1<span class="Apple-converted-space">  </span>2<span class="Apple-converted-space">  </span>3<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>5 <span class="Apple-converted-space">  </span>21 22 23 24 25<span class="Apple-converted-space">    </span>41 42 43 44 45<span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 6<span class="Apple-converted-space">  </span>7<span class="Apple-converted-space">  </span>8<span class="Apple-converted-space">  </span>9 10 <span class="Apple-converted-space">  </span>26 27 28 29 30<span class="Apple-converted-space">    </span>46 47 48 49 50<span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">11 12 13 14 15 <span class="Apple-converted-space">  </span>31 32 33 34 35<span class="Apple-converted-space">    </span>51 52 53 54 55<span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">16 17 18 19 20 <span class="Apple-converted-space">  </span>36 37 38 39 40<span class="Apple-converted-space">    </span>56 57 58 59 60<span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">                                                     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">61 62 63 64 65 <span class="Apple-converted-space">  </span>81 82 83 84<span class="Apple-converted-space">  </span>85 <span class="Apple-converted-space">  </span>101 102 103 104 105</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">66 67 68 69 70 <span class="Apple-converted-space">  </span>86 87 88 89<span class="Apple-converted-space">  </span>90 <span class="Apple-converted-space">  </span>106 107 108 109 110</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">71 72 73 74 75 <span class="Apple-converted-space">  </span>91 92 93 94<span class="Apple-converted-space">  </span>95 <span class="Apple-converted-space">  </span>111 112 113 114 115</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">76 77 78 79 80 <span class="Apple-converted-space">  </span>96 97 98 99 100 <span class="Apple-converted-space">  </span>116 117 118 119 120</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># apply <i>mix</i> to a table of lists</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>mix count 3 4</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1 1 <span class="Apple-converted-space">  </span>2 1 <span class="Apple-converted-space">  </span>3 1</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1 2 <span class="Apple-converted-space">  </span>2 2 <span class="Apple-converted-space">  </span>3 2</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1 3 <span class="Apple-converted-space">  </span>2 3 <span class="Apple-converted-space">  </span>3 3</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1 4 <span class="Apple-converted-space">  </span>2 4 <span class="Apple-converted-space">  </span>3 4</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Operations</b></span></h1>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1">Distributed atomic operations</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># operations on atom-atom, atom-list, and list-list pairs</span></li>
  <li class="li5"><span class="s4"><span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>5 + 10</span></li>
  <li class="li5"><span class="s4">15</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3* count 5</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">3 6 9 12 15</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>count 5 * 20 27 68 14 -3</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">20 54 204 56 -15</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># atomic operations descend to all levels</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>20 + count 2 3</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+-----+-----+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|21 21|21 22|21 23|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+-----+-----+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|22 21|22 22|22 23|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+-----+-----+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>[count 2 3] * [tell 2 3]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-------------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|+---+---+---+|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">||0 0|0 2|0 6||</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|+---+---+---+|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">||2 0|2 2|2 6||</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|+---+---+---+|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-------------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># arithmetic, logical, comparative, and scientific operations are distributed</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">lolloloo or llooolol</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">llllolol</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>lolloloo and llooolol</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">looooloo</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>exp 3 4 5</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">20.0855 54.5982 148.413</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>count 10 mod 3</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1 2 0 1 2 0 1 2 0 1</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>count 10 quotient 3</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0 0 1 1 1 2 2 2 3 3</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># sizes must be equal, unless of length 1</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>count 5 + 2 3</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">?conform</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>[3 4 5, 6 7 8] + [7 8 9, 10 11 12 13]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+--------+--------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|10 12 14|?conform|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+--------+--------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">          </span>[3 4 5, 6 7 8] + [7 8 9, 10]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+--------+--------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|10 12 14|16 17 18|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+--------+--------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># accumulative operations</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>sum count 20</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">210</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>prod count 6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">720</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>max 3 5 -7 18 -4</span></li>
  <li class="li5"><span class="s4">18</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>min 3 5 -7 18 -4</span></li>
  <li class="li5"><span class="s4">-7</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>or llolool</span></li>
  <li class="li5"><span class="s4">l</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>and llolool</span></li>
  <li class="li5"><span class="s4">o</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Structural operations</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">You have already learned of the structural operations <i>reshape</i> and <i>mix</i>.<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">Here are some others.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># <i>rows</i> - converts a table into a list of its rows</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A := 4 6 reshape count 24</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1<span class="Apple-converted-space">  </span>2<span class="Apple-converted-space">  </span>3<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>5<span class="Apple-converted-space">  </span>6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 7<span class="Apple-converted-space">  </span>8<span class="Apple-converted-space">  </span>9 10 11 12</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">13 14 15 16 17 18</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">19 20 21 22 23 24</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>rows A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+--------------+-----------------+-----------------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|1 2 3 4 5 6|7 8 9 10 11 12|13 14 15 16 17 18|19 20 21 22 23 24|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+--------------+-----------------+-----------------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># <i>cols</i> - converts a table into a list of its columns</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>cols A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---------+---------+---------+----------+----------+----------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|1 7 13 19|2 8 14 20|3 9 15 21|4 10 16 22|5 11 17 23|6 12 18 24|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---------+---------+---------+----------+----------+----------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># <i>flip</i> - interchanges top two levels of an array</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>flip rows A<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---------+---------+---------+----------+----------+----------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|1 7 13 19|2 8 14 20|3 9 15 21|4 10 16 22|5 11 17 23|6 12 18 24|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---------+---------+---------+----------+----------+----------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>cols A =<span class="Apple-converted-space">  </span>flip rows A</span></li>
  <li class="li5"><span class="s4">l</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># <i>transpose</i> - transposes the rows and columns of a table</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>transpose A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1<span class="Apple-converted-space">  </span>7 13 19</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">2<span class="Apple-converted-space">  </span>8 14 20</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">3<span class="Apple-converted-space">  </span>9 15 21</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">4 10 16 22</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">5 11 17 23</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">6 12 18 24</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># <i>mix</i> merges the top two levels of an array</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>mix rows A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1<span class="Apple-converted-space">  </span>2<span class="Apple-converted-space">  </span>3<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>5<span class="Apple-converted-space">  </span>6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 7<span class="Apple-converted-space">  </span>8<span class="Apple-converted-space">  </span>9 10 11 12</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">13 14 15 16 17 18</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">19 20 21 22 23 24</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>mix cols A = transpose A</span></li>
  <li class="li5"><span class="s4">l</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># <i>reverse</i> - reverses the items in an array</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>reverse count 10</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">10 9 8 7 6 5 4 3 2 1</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>reverse A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">24 23 22 21 20 19</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">18 17 16 15 14 13</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">12 11 10<span class="Apple-converted-space">  </span>9<span class="Apple-converted-space">  </span>8<span class="Apple-converted-space">  </span>7</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 6<span class="Apple-converted-space">  </span>5<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>3<span class="Apple-converted-space">  </span>2<span class="Apple-converted-space">  </span>1</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># <i>rotate</i> - rotates the items of an array<span class="Apple-converted-space"> </span></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3 rotate count 10</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">4 5 6 7 8 9 10 1 2 3</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>-4 rotate count 10</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">7 8 9 10 1 2 3 4 5 6</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># <i>take</i> - selects items from an array from the ends</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>4 take tell 7</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0 1 2 3</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>-3 take count 7</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">5 6 7</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3 4 take A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1<span class="Apple-converted-space">  </span>2<span class="Apple-converted-space">  </span>3<span class="Apple-converted-space">  </span>4</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 7<span class="Apple-converted-space">  </span>8<span class="Apple-converted-space">  </span>9 10</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">13 14 15 16</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>-3 -3 take A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">10 11 12</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">16 17 18</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">22 23 24</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># <i>drop</i> - selects items of an array after dropping some from the ends</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3 drop tell 15</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">3 4 5 6 7 8 9 10 11 12 13 14</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>2 4 drop A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">17 18</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">23 24</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>-2 1 drop A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">2 3<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>5<span class="Apple-converted-space">  </span>6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">8 9 10 11 12</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># <i>link</i> - joins lists</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>count 5 link tell 10</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1 2 3 4 5 0 1 2 3 4 5 6 7 8 9</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># <i>list</i> - unwinds an array into its items</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>list A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>list count 2 3</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|1 1|1 2|1 3|2 1|2 2|2 3|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+---+</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Measuring and testing operations</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">Nial has operations to measure the dimensionality, extents of dimensions and the</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">number of items in an array. These are: <i>valence</i>, <i>shape</i> and <i>tally</i>.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>A := 4 6 reshape count 24</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1<span class="Apple-converted-space">  </span>2<span class="Apple-converted-space">  </span>3<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>5<span class="Apple-converted-space">  </span>6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 7<span class="Apple-converted-space">  </span>8<span class="Apple-converted-space">  </span>9 10 11 12</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">13 14 15 16 17 18</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">19 20 21 22 23 24</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>valence A</span></li>
  <li class="li5"><span class="s4">2</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>shape A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">4 6</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>tally A</span></li>
  <li class="li5"><span class="s4">24</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">There are a number of operations that test array properties.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># testing if an array is atomic</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>atomic 54</span></li>
  <li class="li5"><span class="s4">l</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>atomic 4 5 6</span></li>
  <li class="li5"><span class="s4">o</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># testing if an array is empty</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-tab-span">	</span>empty Null</span></li>
  <li class="li5"><span class="s4">l</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">      </span>empty count 5</span></li>
  <li class="li5"><span class="s4">o</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Subarray selection operations</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># selecting the unique items of an array</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>cull 23 14 2 5 3 2 8 14 -2 -3 1 -2</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">23 14 2 5 3 8 -2 -3 1</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># selecting by bitstring pattern</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>lollol sublist count 6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1 3 4 6</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A mod 3 match 0 sublist A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">3 6 9 12 15 18 21 24</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Defining operations, definition files</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># defining an operation with one parameter</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>average IS OPERATION A { sum A / tally A }</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>average 4 17 23 18 45</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">21.4</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># defining an operation with two parameter</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>upto IS OP M N {<span class="Apple-converted-space">  </span>M + tell (N - M + 1) }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3 upto 7<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">3 4 5 6 7</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># create a text file named examples.ndf with content:</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-tab-span">	</span># examples</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-tab-span">	</span># defining an operation with one parameter</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    <span class="Apple-tab-span">	</span></span>average IS OPERATION A { sum A / tally A }</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li5"></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-tab-span">	</span># defining an operation with two parameter</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    <span class="Apple-tab-span">	</span></span>upto IS OP M N {<span class="Apple-converted-space">  </span>M + tell (N - M + 1) }</span></li>
  <li class="li5"></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-tab-span">	</span># multiple parameters, multiple lines</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    <span class="Apple-tab-span">	</span></span>foo is OP A B C D E {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>X gets A + B + C;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>D gets D * E;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">        <span class="Apple-tab-span">	</span></span>X/D<span class="Apple-converted-space"> </span></span></li>
  <li class="li5"><span class="s4"><span class="Apple-tab-span">	</span>}</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># loaddefs - loads a script file, adds definitions to the workspace</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>loaddefs "examples l</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># examples</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># defining an operation with one parameter</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>average IS OPERATION A { sum A / tally A }</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># defining an operation with two parameter</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>upto IS OP M N {<span class="Apple-converted-space">  </span>M + tell (N - M + 1) }</span></li>
  <li class="li5"></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># multiple parameters, multiple lines</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>foo is OP A B C D E {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-tab-span">	</span>X gets A + B + C;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-tab-span">	</span>D gets D * E;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">        </span>X/D<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>}</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># using: <span class="Apple-converted-space">  </span>loaddefs "examples <span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># loads the script silently</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># use foo</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>foo 3 4 5 6 7 <span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.285714</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>foo reverse 3 4 5 6 7 <span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1.5</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># see - displays a defined operation in canonical form</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>see "average</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">average IS OPERATION A {<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>+ A / tally A }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>see "foo</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">foo IS OPERATION A B C D E {<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>X := A + B + C ;<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>D := D * E ;<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>X / D }</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Syntax rules for operations</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># all operations are monadic</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>+ 3 4</span></li>
  <li class="li5"><span class="s4">7</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>reshape 6 8</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">8 8 8 8 8 8</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>take -3 (count 5)</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">3 4 5</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># all operations can be used prefix or infix - by rule A f B = f A B</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3 sum 4</span></li>
  <li class="li5"><span class="s4">7</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>+ 3 4 5</span></li>
  <li class="li5"><span class="s4">12</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># some operations require a pair as argument</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>reshape 4 5 6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">?argument of reshape must be a pair</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># infix uses are executed left-to-right<span class="Apple-converted-space"> </span></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3*4+5</span></li>
  <li class="li5"><span class="s4">17</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3+5*4</span></li>
  <li class="li5"><span class="s4">32</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>10 reshape 8 / 4</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">2. 2. 2. 2. 2. 2. 2. 2. 2. 2.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3 + 2 reshape 10 - 1</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">9 9 9 9 9</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># sequence of prefix uses obey composition rule (f g) A = f g A = f (g A)</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>sum count reverse 2 3</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">12 9</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>sum count 2 3</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">9 12</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># mixed infix prefix use obeys rule A f g B = A f (g B) = f A (g B)</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>2 tell sum 2 3</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|0 0|0 1|0 2|0 3|0 4|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|1 0|1 1|1 2|1 3|1 4|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># special rule for defined operations with two or more parameters - argument must be<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># a list that matches in length</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>foo 3 4 5</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">?op_parameter</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>23 foo 4 5 6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">?op_parameter</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>upto 6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">?op_parameter</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Reading and writing files</b></span></h1>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1">write strings to a file</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">The operation <i>putfile</i> writes a list of strings to a file in ascii form.</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">It places a newline indicator (CR-LF in Windows, newline in Linux) after<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">each string that is written.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">      </span>"foobar putfile 'first line' 'second line'</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">The list can be in strand or bracket-comma notation or the value of a variable.</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">read strings from a file</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">The operation <i>getfile</i> reads ascii characters from a file separating them into strings.<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">It removes the newline indicators between strings and returns a list of strings.</span></li>
  <li class="li5"><span class="s4"><span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>getfile "foobar</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+----------+-----------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|first line|second line|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+----------+-----------+<span class="Apple-converted-space"> </span></span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">append string to a file</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">The operation <i>appendfile</i> appends one or more strings to an existing file.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>"foobar appendfile 'third line' 'last line'</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>getfile "foobar</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+----------+-----------+----------+---------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|first line|second line|third line|last line|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+----------+-----------+----------+---------+</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"> <br>
</span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>More on operations<span class="Apple-converted-space"> </span></b></span></h1>
<ul class="ul1">
  <li class="li6"><span class="s5"></span><span class="s6">Syntax </span><span class="s1">The form of an operation definintion is</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span><i>opname</i> IS OP <i>parameters</i> { <i>expr-sequence</i> }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">which defines the operation <i>opname</i>.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">Consider foo again</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>see "foo</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">foo IS OPERATION A B C D E {<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>X := A + B + C ;<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>D := D * E ;<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>X / D }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">It has 5 formal parameters that are passed by value and a local variable X.</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">The body of the definnition consists of 3 expressions.</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">The first two assign expressions assign values to X and D.</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">The third expression computes X / D as the result of the operation.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">When we use foo in the application</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>foo reverse 3 4 5 6 7 <span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1.5</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">the argument to foo is the result of</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>reverse 3 4 5 6 7</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">7 6 5 4 3</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">The items of this list are bound to the parameters A, B, C, D and E respectively.<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">On execution,<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-tab-span">	</span>X is assigned 7+6+5 = 18</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-tab-span">	</span>D is assigned 4*3 = 12</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-tab-span">	</span>and the result 18/12 = 1.5<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">is returned.</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li6"><span class="s5"></span><span class="s6">Modifying operations (using transformers) </span><span class="s1">Nial provides <i>second order</i> functions called transformers that modify operations<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">to achieve specific effects.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">For example, <i>EACH</i> modifies its argument function <i>f</i> so that</span></li>
  <li class="li6"><span class="s2"><i></i></span><span class="s1"><i>(EACH f) A</i> applies <i>f</i> to the items of <i>A</i>.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">A transformer is always used prefix and it is applied before the operation. Thus</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>EACH count 3 5 7</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+---------+-------------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|1 2 3|1 2 3 4 5|1 2 3 4 5 6 7|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+---------+-------------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">is the same as<span class="Apple-converted-space"> </span></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>(EACH f) count 3 5 7</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+---------+-------------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|1 2 3|1 2 3 4 5|1 2 3 4 5 6 7|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+---------+-------------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1<span class="Apple-converted-space">  </span>2<span class="Apple-converted-space">  </span>3<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>5<span class="Apple-converted-space">  </span>6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 7<span class="Apple-converted-space">  </span>8<span class="Apple-converted-space">  </span>9 10 11 12</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">13 14 15 16 17 18</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">19 20 21 22 23 24</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>(EACH sum) rows A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">21 57 93 129</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">can be written</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>EACH sum rows A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">21 57 93 129</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">Another example of a transformer is <i>OUTER</i>, where</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"><i></i></span><span class="s1"><i>A OUTER f B</i></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">applies <i>f<span class="Apple-converted-space"> </span></i> to each of the pairs formed from <i>A</i> and <i>B</i>.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>4 5 OUTER * 2 7 9</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 8 28 36</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">10 35 45</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li6"><span class="s5"></span><span class="s6">Recursive operations </span><span class="s1">Recursion works as expected in Nial</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">fact IS OP N { IF N = 0 THEN 1 ELSE N * fact (N - 1) ENDIF }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>fact 6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">720</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li6"><span class="s5"></span><span class="s6">Atlas of operations </span><span class="s1">Nial uses bracket-comma notation to represent a set of operations.<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">It forms an operation that applies each of the component operations to the<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">argument of the atlas to get a list result.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>[3+, fact, 10*] 6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">9 720 60</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Unit 2: More advanced features</b></span></h1>
<p class="p7"><span class="s1">Like C, Nial has programming structures for conditional execution.<span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s1">NIal also has loops, though programs usually run faster and are shorter if you avoid using them.<span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s1">We discuss these features and the <i>EACH </i>transformers that often render loops unnecessary.<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Topics</b></span></h1>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1">Conditionals and loops<span class="Apple-converted-space"> </span></span></li>
  <li class="li4"><span class="s2"></span><span class="s1">EACH and related transformers<span class="Apple-converted-space"> </span></span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Using array addresses<span class="Apple-converted-space"> </span></span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Conditionals and loops<span class="Apple-converted-space"> </span></b></span></h1>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1">IF statements and expressions</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X := 5; Y := 7;</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># conditional using statements</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>IF X &lt; Y THEN</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">        </span>Sml := X; Lrg := Y;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>ELSE</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">        </span>Sml := Y; Lrg := X;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>ENDIF;</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># conditional using expressions</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Sml := IF X &lt; Y THEN X ELSE Y ENDIF;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Lrg := IF X &lt; Y THEN Y ELSE X ENDIF;</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># using multiple assignments to do the test just once</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X<span class="Apple-converted-space">  </span>Y := 5 7;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Sml Lrg := IF X &lt; Y THEN X Y ELSE Y X ENDIF;</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"><b></b></span><span class="s1"><b>Aside:</b></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">All expressions in Nial return a value, including assignments.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">The value of an expression ending with <b>;</b> is the fault <b>?noexpr</b></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">By convention this fault value is not displayed at the top level execution.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">To see the fault enclose the result in a one-list.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>[ (X := 5;) ]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">?noexpr</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Loops</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># FOR loop</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">Use a FOR loop when you know the number of steps (definite iteration)</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Total := 0;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>FOR I WITH 10 20 30 40 DO</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">        </span>Total := Total + (Pi * I);</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>ENDFOR;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Total</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">314.159</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Can often achieve the effect of a FOR loop using an expression with an EACH transformer</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>sum EACH (Pi*) 10 20 30 40</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">314.159</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># implicit loops are generally faster in Q'Nial</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># WHILE loop</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">Use a WHILE loop when you don't know how many steps it will take (indefinite iteration)</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># computer the series 1 + 1/(2*2) + 1/(3*3) + ... + (1/(N*N) to 5 decimal places</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Term := 1;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>I := 1;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Total := 0;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>WHILE Term &gt; 1e-5 DO</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">        </span>TOTAL := Total + Term;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">        </span>I := I + 1;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">        </span>Term := 1 / (I * I);</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>ENDWHILE;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Total I</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1.64393 317</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>EACH and related transformers</b></span></h1>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1">EACH</span></li>
  <li class="li6"><span class="s2"><i></i></span><span class="s1"><i>EACH</i> modifies its operation argument to apply it to all the items</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">of the argument array. The result has the same shape as the argument</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">RULE: <span class="Apple-converted-space">  </span><i>shape (EACH f A) = shape A</i></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A gets 4 6 reshape count 24</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1<span class="Apple-converted-space">  </span>2<span class="Apple-converted-space">  </span>3<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>5<span class="Apple-converted-space">  </span>6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 7<span class="Apple-converted-space">  </span>8<span class="Apple-converted-space">  </span>9 10 11 12</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">13 14 15 16 17 18</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">19 20 21 22 23 24</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>EACH (2+) A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 3<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>5<span class="Apple-converted-space">  </span>6<span class="Apple-converted-space">  </span>7<span class="Apple-converted-space">  </span>8</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 9 10 11 12 13 14</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">15 16 17 18 19 20</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">21 22 23 24 25 26</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">Two EACH applications can be combined.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">RULE:<span class="Apple-converted-space">    </span><i>(EACH f) (EACH g) A = EACH(f g) A</i></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>EACH exp EACH (2+) A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>20.0855 <span class="Apple-converted-space">    </span>54.5982<span class="Apple-converted-space">    </span>148.413 <span class="Apple-converted-space">    </span>403.429 <span class="Apple-converted-space">    </span>1096.63 <span class="Apple-converted-space">    </span>2980.96</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>8103.08 <span class="Apple-converted-space">    </span>22026.5<span class="Apple-converted-space">    </span>59874.1 <span class="Apple-converted-space">    </span>162755. <span class="Apple-converted-space">    </span>442413.<span class="Apple-converted-space">  </span>1.2026e+06</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">3.26902e+06 8.88611e+06 2.4155e+07 <span class="Apple-converted-space">  </span>6.566e+07 1.78482e+08 4.85165e+08</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1.31882e+09 3.58491e+09 9.7448e+09 2.64891e+10 7.20049e+10<span class="Apple-converted-space">  </span>1.9573e+11</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>EACH (exp (2+)) A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>20.0855 <span class="Apple-converted-space">    </span>54.5982<span class="Apple-converted-space">    </span>148.413 <span class="Apple-converted-space">    </span>403.429 <span class="Apple-converted-space">    </span>1096.63 <span class="Apple-converted-space">    </span>2980.96</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>8103.08 <span class="Apple-converted-space">    </span>22026.5<span class="Apple-converted-space">    </span>59874.1 <span class="Apple-converted-space">    </span>162755. <span class="Apple-converted-space">    </span>442413.<span class="Apple-converted-space">  </span>1.2026e+06</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">3.26902e+06 8.88611e+06 2.4155e+07 <span class="Apple-converted-space">  </span>6.566e+07 1.78482e+08 4.85165e+08</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1.31882e+09 3.58491e+09 9.7448e+09 2.64891e+10 7.20049e+10<span class="Apple-converted-space">  </span>1.9573e+11</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Each transformers on two arguments</span></li>
  <li class="li6"><span class="s2"><i></i></span><span class="s1"><i>A EACHLEFT f B</i> applies f to pairs formed from the items of A and the argument B</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3 4 5 EACHLEFT reshape "abc</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+---------------+-------------------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|abc abc abc|abc abc abc abc|abc abc abc abc abc|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+---------------+-------------------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"><i></i></span><span class="s1"><i>A EACHRIGHT f B</i> applies f to pairs formed from the argument A and the items of B</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3 4 EACHRIGHT reshape "abc "defg</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---------------+-------------------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|abc abc abc abc|defg defg defg defg|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|abc abc abc abc|defg defg defg defg|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|abc abc abc abc|defg defg defg defg|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---------------+-------------------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"><i></i></span><span class="s1"><i>A EACHBOTH f B</i> applies f to pairs formed from the items of A and the items of B</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3 4 EACHBOTH reshape "abc "defg</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+-------------------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|abc abc abc|defg defg defg defg|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+-------------------+</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li6"><span class="s5"></span><span class="s6">OUTER </span><span class="s1"><i>A OUTER f B</i> computes applies f to the pairs formed from all combinations of<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">the items of A with the items of B</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3 4 5 OUTER reshape 'abcd'</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+-----+-----+-----+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|aaa<span class="Apple-converted-space">  </span>|bbb<span class="Apple-converted-space">  </span>|ccc<span class="Apple-converted-space">  </span>|ddd<span class="Apple-converted-space">  </span>|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+-----+-----+-----+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|aaaa |bbbb |cccc |dddd |</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+-----+-----+-----+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|aaaaa|bbbbb|ccccc|ddddd|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+-----+-----+-----+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">The same result can be obtained by</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"><i></i></span><span class="s1"><i> mix (A EACHLEFT EACHRIGHT f B)</i></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>mix (3 4 5 EACHLEFT EACHRIGHT reshape 'abcd')</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+-----+-----+-----+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|aaa<span class="Apple-converted-space">  </span>|bbb<span class="Apple-converted-space">  </span>|ccc<span class="Apple-converted-space">  </span>|ddd<span class="Apple-converted-space">  </span>|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+-----+-----+-----+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|aaaa |bbbb |cccc |dddd |</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+-----+-----+-----+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|aaaaa|bbbbb|ccccc|ddddd|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----+-----+-----+-----+</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Using array addresses</b></span></h1>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1">Generating addresses</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">The operation <i>tell</i> generates the 0-origin addresses for an array<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">with the shape of the argument.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>tell 5</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0 1 2 3 4</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>tell 4 6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|0 0|0 1|0 2|0 3|0 4|0 5|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|1 0|1 1|1 2|1 3|1 4|1 5|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|2 0|2 1|2 2|2 3|2 4|2 5|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+---+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|3 0|3 1|3 2|3 3|3 4|3 5|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+---+---+---+---+---+</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li6"><span class="s5"></span><span class="s6">Selecting an item </span><span class="s1">The operation<span class="Apple-converted-space"> </span><i> I pick A<span class="Apple-converted-space"> </span></i> selects the item of A at address I.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>3 pick 'abcdef'</span></li>
  <li class="li5"><span class="s4">d</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X := 34 15 -2 35 798</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">34 15 -2 35 798</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>1 pick X</span></li>
  <li class="li5"><span class="s4">15</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A := 4 6 reshape count 24</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1<span class="Apple-converted-space">  </span>2<span class="Apple-converted-space">  </span>3<span class="Apple-converted-space">  </span>4<span class="Apple-converted-space">  </span>5<span class="Apple-converted-space">  </span>6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 7<span class="Apple-converted-space">  </span>8<span class="Apple-converted-space">  </span>9 10 11 12</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">13 14 15 16 17 18</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">19 20 21 22 23 24</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>2 3 pick A</span></li>
  <li class="li5"><span class="s4">16</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">There is an indexing notation for selecting an item using <i>A@I</i> where A is a variable.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X@1</span></li>
  <li class="li5"><span class="s4">15</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A@(2 3)</span></li>
  <li class="li5"><span class="s4">16</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li6"><span class="s5"></span><span class="s6">Selecting multiple items </span><span class="s1">The operation<span class="Apple-converted-space"> </span><i> I choose A<span class="Apple-converted-space"> </span></i> selects the items of A at the addresses in I.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>2 3 0 choose X</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">-2 35 34</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>[0 0, 1 1, 2 2, 3 3] choose A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1 8 15 22</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">There is an indexing notation for selecting multiple items using <i>A#I</i> where A is a variable.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X#(2 3 0)</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">-2 35 34</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A#[0 0, 1 1, 2 2, 3 3]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1 8 15 22</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Selecting a slice of a table</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">For convenience there is also a notation for selecting a row or column from a table variable</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A|[2,]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">13 14 15 16 17 18</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A|[,3]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">4 10 16 22</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Reaching into an nested array using a path</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>B := rows A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+--------------+-----------------+-----------------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|1 2 3 4 5 6|7 8 9 10 11 12|13 14 15 16 17 18|19 20 21 22 23 24|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+--------------+-----------------+-----------------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>2 4 reach B</span></li>
  <li class="li5"><span class="s4">17</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">There is an indexing notation for selecting along a pathusing <i>A@@P</i> where A is a variable</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>B@@(2 4)</span></li>
  <li class="li5"><span class="s4">17</span></li>
  <li class="li5"></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Assigning into an array</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">The variable selection notations can also be used to insert an item or items into an array.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">For example, to double the value at address 3 in X, use</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X@3 := x@3 * 2</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">34 15 -2 70 798</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">To replace the diagonal items of A use</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A#[0 0, 1 1, 2 2, 3 3] := 1000 2000 3000 4000</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1000<span class="Apple-converted-space">    </span>2<span class="Apple-converted-space">    </span>3<span class="Apple-converted-space">    </span>4<span class="Apple-converted-space">  </span>5<span class="Apple-converted-space">  </span>6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>7 2000<span class="Apple-converted-space">    </span>9 <span class="Apple-converted-space">  </span>10 11 12</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>13 <span class="Apple-converted-space">  </span>14 3000 <span class="Apple-converted-space">  </span>16 17 18</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>19 <span class="Apple-converted-space">  </span>20 <span class="Apple-converted-space">  </span>21 4000 23 24</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">To negate the first row of A use</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A|[0,] := opp A|[0,]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">-1000 <span class="Apple-converted-space">  </span>-2 <span class="Apple-converted-space">  </span>-3 <span class="Apple-converted-space">  </span>-4 -5 -6</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>7 2000<span class="Apple-converted-space">    </span>9 <span class="Apple-converted-space">  </span>10 11 12</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>13 <span class="Apple-converted-space">  </span>14 3000 <span class="Apple-converted-space">  </span>16 17 18</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>19 <span class="Apple-converted-space">  </span>20 <span class="Apple-converted-space">  </span>21 4000 23 24</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Unit 3: Nial examples</b></span></h1>
<p class="p1"><span class="s1"></span><br></p>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1">Vector and matrix computations<span class="Apple-converted-space"> </span></span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Building and using tables<span class="Apple-converted-space"> </span></span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Executing strings<span class="Apple-converted-space"> </span></span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Examples<span class="Apple-converted-space"> </span></span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Vector and matrix computations<span class="Apple-converted-space"> </span></b></span></h1>
<ul class="ul1">
  <li class="li6"><span class="s5"></span><span class="s6">Scalars, Vectors, Matrices </span><span class="s1">Nial represents scalars as numeric atoms, vectors as numeric lists,</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> and matrices as numeric tables.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">We give some examples of linear algebra computations.</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">Larger examples can be tried by changing the value of N.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>N := 4</span></li>
  <li class="li5"><span class="s4">4</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Scalar S</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>S := 3.14 <span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">3.14</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Vectors X, Y</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X gets random N</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.633319 0.196128 0.329051 0.353133</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Y gets random N</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.0997199 0.993036 0.956765 0.351386</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Matrices A and B</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A gets random N N</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 0.740653 0.156837 <span class="Apple-converted-space">  </span>0.95601 0.652851</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 0.470182 0.342205 <span class="Apple-converted-space">  </span>0.44016 0.761598</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>0.18367 0.946969 <span class="Apple-converted-space">  </span>0.71337 0.605643</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.0498337 0.554176 0.0283656 0.740685</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>B gets random N N</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.694195 0.340543 0.514273<span class="Apple-converted-space">  </span>0.388239</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.140726 0.177893 0.844948 0.0351305</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.438194 0.727605 0.858284 <span class="Apple-converted-space">  </span>0.17794</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 0.63484 0.749474 0.416547 <span class="Apple-converted-space">  </span>0.90947</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Scalar times Vector</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>S * X<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1.98862 0.615843 1.03322 1.10884</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Vector addition</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X + Y</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.733039 1.18916 1.28582 0.704518</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># item-by-item vector multiplication</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X * Y</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.0631546 0.194763 0.314824 0.124086</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Vector inner product</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>sum (X * Y)</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.696827</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Scalar times Matrix<span class="Apple-converted-space"> </span></span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>S * A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 2.32565 0.492468<span class="Apple-converted-space">  </span>3.00187 2.04995</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1.47637<span class="Apple-converted-space">  </span>1.07452 <span class="Apple-converted-space">  </span>1.3821 2.39142</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.576725<span class="Apple-converted-space">  </span>2.97348<span class="Apple-converted-space">  </span>2.23998 1.90172</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.156478<span class="Apple-converted-space">  </span>1.74011 0.089068 2.32575</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Matrix Vector multiplication</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>AX := EACH sum (rows A EACHLEFT * X)</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1.04495 0.778671 0.750657 0.411144</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># Matrix Matrix multiplication</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>AB := EACH sum (rows A OUTER * cols B)</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>1.3696<span class="Apple-converted-space">  </span>1.46502<span class="Apple-converted-space">  </span>1.60589<span class="Apple-converted-space">  </span>1.05692</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 1.05092<span class="Apple-converted-space">  </span>1.11205<span class="Apple-converted-space">  </span>1.22597 0.965537</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.957847<span class="Apple-converted-space">  </span>1.20397<span class="Apple-converted-space">  </span>1.75915 0.782327</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.595227 0.691318 0.826753 0.717494</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># solve linear equations A x = y</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>A solve AX</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.633319 0.196128 0.329051 0.353133</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>X</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">0.633319 0.196128 0.329051 0.353133</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">         </span></span></li>
  <li class="li5"><span class="s4"> <br>
</span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Building and using tables</b></span></h1>
<ul class="ul1">
  <li class="li6"><span class="s5"></span><span class="s6">Data tables </span><span class="s1">Nial does not directly support relational data bases and SQL style queries and updates.</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">However, it is quite straightforward to build useful data tables and manipulate them.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">Consider an application in which records for employees are managed.</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">These might be organized in a series of tables:</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">Table 1 - Employee numbers, Employee names, Social Security number</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">Table 2 - Employee numbers, Position, Department, Salary, Vacation allotment</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">Table 3 - Employee numbers, Employment status, Vacation days used</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">Table 4 - Employee numbers, Week number, Hours worked, Days missed for illness, vacation</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">etc.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">Each table can be represented by a pair consisting of<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">a list of column names and a data structure holding the data for the table.</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">The data part can be organized in of three direct ways:</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">- as a Nial table T where each row is one entry in the table,</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">- as a nested list, rows T<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">- as a nested list, cols T</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">We choose the later representation for efficency of lookup and storage use.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># the data base tables</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">Tblnms := "EmpInfo "EmpPos "EmpData "WorkRecs</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpInfo EmpPos EmpData WorkRecords</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># list of column names for each table</span></li>
  <li class="li5"><span class="s4"><span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpInfoCols := "EmpNo "EmpNm "EmpSin</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpNo EmpNm EmpSin</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpPosCols := "EmpNo "Posn "Dept "Sal "VacDays</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpNo Posn Dept Sal VacDays</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpRecCols := "EmpNo "Status "VacUsed</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpNo Status VacUsed</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">WorkRecsCols := "EmpNo "WeekNo "Hours "SickDays "VacDays</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpNo WeekNo Hours SickDays VacDays</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># sample data for each table</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpInfoData := flip<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>[100 'John Smith' 235648329,</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>201 'Pat Johnson' 384263549,</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>128 'Mary Armstrong' 653902194</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+---------------------------------------+---------------------------</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|100 201 128|+----------+-----------+--------------+|235648329 384263549 6539021</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">| <span class="Apple-converted-space">          </span>||John Smith|Pat Johnson|Mary Armstrong||<span class="Apple-converted-space">                           </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">| <span class="Apple-converted-space">          </span>|+----------+-----------+--------------+|<span class="Apple-converted-space">                           </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+---------------------------------------+---------------------------</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">--+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">94|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">--+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpPosData := flip</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>[100 "Pres "Admin 235000 30,</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>201 "Salesperson "Marketing 85000 20,</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>128 "AdminAsst "Marketing 45000 15</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+--------------------------+-------------------------+--------------</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|100 201 128|Pres Salesperson AdminAsst|Admin Marketing Marketing|235000 85000 4</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+--------------------------+-------------------------+--------------</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">----+--------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">5000|30 20 15|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">----+--------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpRecData := flip</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>[100 "Active 3,</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>201 "Active 5,</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>128 "active 12</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+--------------------+------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|100 201 128|Active Active active|3 5 12|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------+--------------------+------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">WorkRecsData := flip</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>[100 10 45 0 0,</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>201 10 35 0 2,</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>128 10 40 1 0,</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>100 11 45 0 0,</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>201 11 35 1 0,</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>128 11 40 1 1</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>]</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------------------+-----------------+-----------------+-----------+-------</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|100 201 128 100 201 128|10 10 10 11 11 11|45 35 40 45 35 40|0 0 1 0 1 1|0 2 0 0</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-----------------------+-----------------+-----------------+-----------+-------</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">----+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 0 1|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">----+</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">routines to support table computations</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># routine to display a table</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">displaytbl IS OP Nms Data {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>mix flip (Nms EACHBOTH hitch Data) }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>displaytbl WorkRecsCols WorkRecsData</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpNo WeekNo Hours SickDays VacDays</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>100 <span class="Apple-converted-space">    </span>10<span class="Apple-converted-space">    </span>45<span class="Apple-converted-space">        </span>0 <span class="Apple-converted-space">      </span>0</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>201 <span class="Apple-converted-space">    </span>10<span class="Apple-converted-space">    </span>35<span class="Apple-converted-space">        </span>0 <span class="Apple-converted-space">      </span>2</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>128 <span class="Apple-converted-space">    </span>10<span class="Apple-converted-space">    </span>40<span class="Apple-converted-space">        </span>1 <span class="Apple-converted-space">      </span>0</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>100 <span class="Apple-converted-space">    </span>11<span class="Apple-converted-space">    </span>45<span class="Apple-converted-space">        </span>0 <span class="Apple-converted-space">      </span>0</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>201 <span class="Apple-converted-space">    </span>11<span class="Apple-converted-space">    </span>35<span class="Apple-converted-space">        </span>1 <span class="Apple-converted-space">      </span>0</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>128 <span class="Apple-converted-space">    </span>11<span class="Apple-converted-space">    </span>40<span class="Apple-converted-space">        </span>1 <span class="Apple-converted-space">      </span>1</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># routine to select a single record in a table by Key (first column)</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">getrec IS OP Key Data {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>Pos := Key find first Data;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>Pos EACHRIGHT pick Data }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>getrec 128 EmpInfoData</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+--------------+---------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|128|Mary Armstrong|653902194|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+---+--------------+---------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># expression to get all entries in a table by Key</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">getrecs IS OP Key Data {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>Posns := Key findall first Data;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>Posns EACHLEFT EACHRIGHT pick Data }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>getrecs 201 WorkRecsData</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-------------+-------------+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|201 10 35 0 2|201 11 35 1 0|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-------------+-------------+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># routine to update a record in a data table</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">updateFld IS OP Tbl Key Fld Val {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>TblCols TblDataNm := Tbl;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>Data := value TblDataNm;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>I := Key find first Data;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>Fld_I := Fld find TblCols;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>deepupdate TblDataNm [Fld_I,I] Val }</span></li>
  <li class="li5"><span class="s4"><span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># assignment to update salary by employee name</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1">updatesalary IS OP EmpName NewSalary {<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>Posn := EmpName find second EmpInfoData;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>EmpNo := Posn pick first EmpInfoData;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>updateFld (EmpPosCols "EmpPosData) EmpNo "Sal NewSalary; }</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">   </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># table before update</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>displayTbl EmpPosCols EmpPosData</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpNo Posn<span class="Apple-converted-space">        </span>Dept<span class="Apple-converted-space">      </span>Sal<span class="Apple-converted-space">    </span>VacDays</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>100 Pres<span class="Apple-converted-space">        </span>Admin <span class="Apple-converted-space">    </span>235000<span class="Apple-converted-space">      </span>30</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>201 Salesperson Marketing<span class="Apple-converted-space">  </span>85000<span class="Apple-converted-space">      </span>20</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>128 AdminAsst <span class="Apple-converted-space">  </span>Marketing<span class="Apple-converted-space">  </span>45000<span class="Apple-converted-space">      </span>15</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>updatesalary 'Mary Armstrong' 48000;</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># table after update</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>displayTbl EmpPosCols EmpPosData</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">EmpNo Posn<span class="Apple-converted-space">        </span>Dept<span class="Apple-converted-space">      </span>Sal<span class="Apple-converted-space">    </span>VacDays</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>100 Pres<span class="Apple-converted-space">        </span>Admin <span class="Apple-converted-space">    </span>235000<span class="Apple-converted-space">      </span>30</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>201 Salesperson Marketing<span class="Apple-converted-space">  </span>85000<span class="Apple-converted-space">      </span>20</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>128 AdminAsst <span class="Apple-converted-space">  </span>Marketing<span class="Apple-converted-space">  </span>48000<span class="Apple-converted-space">      </span>15</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">     </span></span></li>
  <li class="li5"><span class="s4"><br>
</span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Executing strings</b></span></h1>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1">Evaluating a constructed string</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">One of the many advantages of interpretation is that</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">one can easily evaluate expressions that are constructed on the fly.</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Choice := 2</span></li>
  <li class="li5"><span class="s4">2</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Nms := 'W' 'X' 'Y' 'Z'</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-+-+-+-+</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">|W|X|Y|Z|</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">+-+-+-+-+</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Arg := 5</span></li>
  <li class="li5"><span class="s4">5</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Expr := link Nms@Choice<span class="Apple-converted-space">  </span>' := count ' (string Arg) ';'</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">Y := count 5;</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>execute Expr</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Y</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">1 2 3 4 5</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
</ul>
<p class="p2"><span class="s1"></span><br></p>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; line-height: 28.0px; font: 24.0px Times; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>Examples</b></span></h1>
<ul class="ul1">
  <li class="li4"><span class="s2"></span><span class="s1">Delete all blanks from a string.</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">deleteblanks IS OP Str {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>not (Str match ` ) <span class="Apple-converted-space">  </span>sublist Str }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>deleteblanks ' Where did all <span class="Apple-converted-space">  </span>the flowers go. '</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">Wheredidalltheflowersgo.</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Set manipulation examples</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># subset test</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">subset IS OPERATION A B { and ( A EACHLEFT in B ) }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>'abc' subset 'qwertyckdsba'</span></li>
  <li class="li5"><span class="s4">l</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># intersection</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">intersect IS OPERATION A B {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>EACH and ( A EACHLEFT EACHRIGHT in A B ) sublist<span class="Apple-converted-space">  </span>A</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>}</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Friends := "Mary "Ludwig "Hercule "Tom "Sarah ;</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Pals:= "Jack "Tony "Rick "Tom "Kalev;</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>Friends intersect Pals</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">Tom</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Moving average</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">Compute the moving average of length N for an array Data</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">moving_average IS OPERATION N Data {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>Indicies := tell (tally Data - N + 1) EACHLEFT + tell N;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>Groups := Indicies EACHLEFT choose Data;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">EACH sum Groups / N }</span></li>
  <li class="li5"></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>2 moving_average 3 4 5 6 7 8</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">3.5 4.5 5.5 6.5 7.5</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Count occurences</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># This operation counts the number of occurrences in A of each value in</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>Values.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">frequency IS OPERATION Values A {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>EACH sum ( Values EACHLEFT EACHRIGHT = A ) }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>frequency 'abc' 'The cat sat on the baseball bat'</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">5 3 1</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># If the items of Values are know to be atomic then a faster version is:</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">atfrequency IS OPERATION Values A {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>EACH sum ( Values EACHLEFT match A ) }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>atfrequency 'abc' 'The cat sat on the baseball bat'</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">5 3 1</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Prime numbers &lt;= N</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># use sieve algorithm, where candidates are removed when they are multiples<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>of primes already found.</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># uses implicit loops except for controlling WHILE loop of indefinite length</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">sieve IS OPERATION N {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>Candidates := rest count N;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>Primes := Null;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>WHILE not empty Candidates DO</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>Primes := Primes append first Candidates;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">    </span>Candidates := not (Candidates mod first Candidates match 0)<span class="Apple-converted-space"> </span></span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">        </span>sublist Candidates;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>ENDWHILE;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"><span class="Apple-converted-space">  </span>Primes }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>sieve 100</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
  <li class="li4"><span class="s2"></span><span class="s1">Frequency of prime numbers</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"># count occurences in ranges</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">countinranges IS OP Vals RangeVals {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>inrange IS OP V Rng {</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">      </span>V &gt; first Rng and (V &lt;= last Rng) };</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>Ranges := front Rangevals EACHBOTH pair rest Rangevals;</span></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">  </span>EACH sum (Vals EACHRIGHT EACHLEFT inrange Ranges) }</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># 10 ranges of length 10</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>sieve 100 countinranges (10 * tell 11)</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">4 4 2 2 3 2 2 3 2 1</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># 10 ranges of length 100</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>sieve 1000 countinranges (100 * tell 11)</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">25 21 16 16 17 14 16 14 15 14</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># 10 ranges of length 1000</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>sieve 10000 countinranges (1000 * tell 11)</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">168 135 127 120 119 114 117 107 110 112</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"># 100 ranges of length 100</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> <span class="Apple-converted-space">    </span>sieve 10000 countinranges (100 * tell 101)</span></li>
  <li class="li6"><span class="s2"></span><span class="s1">25 21 16 16 17 14 16 14 15 14 16 12 15 11 17 12 15 12 12 13 14 10 15 15 10 11 15</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1"> 14 12 11 12 10 11 15 11 14 13 12 11 11 15 9 16 9 11 12 12 12 8 15 12 11 10 10 1</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">3 13 12 10 16 7 12 11 13 15 8 11 10 12 12 13 9 10 11 9 11 15 12 10 10 10 11 10 1</span></li>
  <li class="li5"></li>
  <li class="li6"><span class="s2"></span><span class="s1">4 9 8 12 13 11 13 9 11 12 11 11 15 7 13 11 12 9</span></li>
  <li class="li5"></li>
  <li class="li5"><span class="s4"><br>
</span></li>
</ul>
</body>
</html>
